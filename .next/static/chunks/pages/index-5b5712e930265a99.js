(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{4675:(e,t,a)=>{"use strict";a.d(t,{db:()=>o,j:()=>i});var s=a(6042),n=a(9917),l=a(2964);let r=(0,s.Wp)({apiKey:"AIzaSyBvcXsaTy4xl4hZdLmGkDVJRJbF44js1og",authDomain:"chatbottinyllama.firebaseapp.com",projectId:"chatbottinyllama",storageBucket:"chatbottinyllama.firebasestorage.app",messagingSenderId:"836242896425",appId:"1:836242896425:web:003431a2fbf89538650e38"}),i=(0,n.xI)(r),o=(0,l.aU)(r)},6760:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a(9159)}])},9099:(e,t,a)=>{e.exports=a(8253)},9159:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d});var s=a(7876),n=a(4232),l=a(9099),r=a(9917),i=a(4675),o=a(2964);function c(){let[e,t]=(0,n.useState)([{text:"Halo! Apa yang bisa saya bantu?",sender:"bot"}]),[a,l]=(0,n.useState)(""),r=async(e,t)=>{try{console.log(i.db);let a=(0,o.rJ)(i.db,"messages");await (0,o.gS)(a,{text:e,sender:t,timestamp:(0,o.O5)()})}catch(e){console.error("Gagal menyimpan pesan:",e)}},c=async()=>{if(a.trim()){let e={text:a,sender:"user"},s={text:"Tunggu sebentar...",sender:"bot"};t(t=>[...t,e,s]),await r(a,"user"),l(""),setTimeout(async()=>{let e="Ini jawaban dari chatbot";t(t=>t.map((a,s)=>s===t.length-1&&"bot"===a.sender?{...a,text:e}:a)),await r(e,"bot")},2e3)}};return(0,s.jsxs)("div",{className:"flex flex-col h-80 w-full max-w-md mx-auto bg-white shadow-lg rounded-lg p-4",children:[(0,s.jsx)("div",{className:"flex-1 overflow-y-auto",children:e.map((e,t)=>(0,s.jsx)("div",{className:"flex ".concat("user"===e.sender?"justify-end":"justify-start"," mb-2"),children:(0,s.jsx)("div",{className:"max-w-xs p-3 rounded-lg text-white ".concat("user"===e.sender?"bg-blue-500":"bg-gray-400"),children:e.text})},t))}),(0,s.jsxs)("div",{className:"flex mt-3",children:[(0,s.jsx)("input",{type:"text",placeholder:"Ketik pesan...",value:a,onChange:e=>l(e.target.value),onKeyDown:e=>"Enter"===e.key&&c(),className:"flex-1 p-3 border rounded-l-lg border-gray-300"}),(0,s.jsx)("button",{onClick:c,className:"bg-blue-500 text-white p-3 rounded-r-lg hover:bg-blue-600",children:"Kirim"})]})]})}function d(){let e=(0,l.useRouter)();return(0,n.useEffect)(()=>{let t=(0,r.hg)(i.j,t=>{t||e.push("/login")});return()=>t()},[e]),(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold mb-8 text-gray-800",children:"Selamat datang di TinyLlama Chatbot!"}),(0,s.jsx)(c,{})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[671,329,231,636,593,792],()=>t(6760)),_N_E=e.O()}]);